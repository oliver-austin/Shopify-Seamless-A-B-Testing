import * as tslib_1 from "tslib";
import merge from 'lodash/merge';
import { autobind } from '@shopify/javascript-utilities/decorators';
import { get } from '../../../../utilities/get';
import defaultTranslation from '../../../../locales';
import translate from './translate';
export default class Intl {
    constructor(translation) {
        this.translation = translation;
        this.setTranslation(translation);
    }
    setTranslation(translation) {
        const i18n = Array.isArray(translation)
            ? merge({}, ...translation)
            : translation;
        this.translation = i18n
            ? merge({}, defaultTranslation, i18n)
            : defaultTranslation;
    }
    translate(id, replacements) {
        return translate(id, this.translation, replacements);
    }
    translationKeyExists(path) {
        return Boolean(get(this.translation, path));
    }
}
tslib_1.__decorate([
    autobind
], Intl.prototype, "translate", null);

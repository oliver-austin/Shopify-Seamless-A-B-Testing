import * as tslib_1 from "tslib";
import * as React from 'react';
import { autobind } from '@shopify/javascript-utilities/decorators';
import VisuallyHidden from '../VisuallyHidden';
export default class Form extends React.PureComponent {
    render() {
        const { acceptCharset, action, autoComplete, children, encType, implicitSubmit = true, method = 'post', name, noValidate, target, } = this.props;
        const autoCompleteInputs = normalizeAutoComplete(autoComplete);
        const submitMarkup = implicitSubmit ? (<VisuallyHidden>
        <button type="submit" aria-hidden="true"/>
      </VisuallyHidden>) : null;
        return (<form acceptCharset={acceptCharset} action={action} autoComplete={autoCompleteInputs} encType={encType} method={method} name={name} noValidate={noValidate} target={target} onSubmit={this.handleSubmit}>
        {children}
        {submitMarkup}
      </form>);
    }
    handleSubmit(event) {
        const { preventDefault = true, onSubmit } = this.props;
        if (!preventDefault) {
            return;
        }
        event.preventDefault();
        onSubmit(event);
    }
}
tslib_1.__decorate([
    autobind
], Form.prototype, "handleSubmit", null);
function normalizeAutoComplete(autoComplete) {
    if (autoComplete == null) {
        return autoComplete;
    }
    return autoComplete ? 'on' : 'off';
}
